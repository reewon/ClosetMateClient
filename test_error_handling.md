# 에러 처리 테스트 가이드

## 수동 테스트 방법

### 1. 잘못된 카테고리 입력 테스트

1. 앱 실행: `dart bin/closet_cli.dart`
2. 메인 메뉴에서 `1` 선택 (내 옷장 보기)
3. 카테고리 입력 프롬프트에서 잘못된 카테고리 입력 (예: `top`, `hat`, `123`)
4. **확인 사항:**
   - ❌ 에러 메시지가 **한 번만** 출력되는가?
   - ❌ 에러 메시지가 명확한가? (예: "잘못된 카테고리입니다. 가능한 값: 상의, 하의, 신발, 아우터")
   - ❌ 에러 후 카테고리 선택 화면으로 돌아가는가?
   - ❌ 무한 루프가 발생하지 않는가?

### 2. 네트워크 오류 테스트

1. 서버를 중지한 상태에서 앱 실행
2. 메인 메뉴에서 `1` 선택 (내 옷장 보기)
3. 유효한 카테고리 입력 (예: `상의`)
4. **확인 사항:**
   - ❌ 네트워크 오류 메시지가 **한 번만** 출력되는가?
   - ❌ 에러 후 상위 메뉴로 돌아가는가?

### 3. 서버 에러 응답 테스트

1. 서버가 실행 중인 상태에서 앱 실행
2. 존재하지 않는 리소스에 접근 시도
3. **확인 사항:**
   - ❌ 서버 에러 메시지가 **한 번만** 출력되는가?
   - ❌ 에러 메시지가 서버에서 전달한 메시지와 일치하는가?

## 자동 테스트 실행

```bash
# API 에러 파싱 로직 테스트
dart test_api_error_parsing.dart
```

## 예상 결과

### ✅ 정상 동작
```
> 내 옷장 보기

카테고리를 선택하세요 (상의/하의/신발/아우터/B:뒤로가기): top
❌ 잘못된 카테고리입니다. 가능한 값: 상의, 하의, 신발, 아우터

> 내 옷장 보기

카테고리를 선택하세요 (상의/하의/신발/아우터/B:뒤로가기): 
```

### ❌ 비정상 동작 (이전 버그)
```
> 내 옷장 보기

카테고리를 선택하세요 (상의/하의/신발/아우터/B:뒤로가기): top
❌ 네트워크 오류가 발생했습니다: ...
❌ 네트워크 오류가 발생했습니다: ...
❌ 네트워크 오류가 발생했습니다: ...
(무한 반복)
```



